<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Module: Ronin::Installation</title>
<link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (I)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../Ronin.html" title="Ronin (module)">Ronin</a></span></span>
     &raquo; 
    <span class="title">Installation</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Module: Ronin::Installation
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">lib/ronin/installation.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>The <span class='object_link'><a href="" title="Ronin::Installation (module)">Installation</a></span> module provides methods which help reflect on the
installation of Ronin on the system.</p>


  </div>
</div>
<div class="tags">
  
</div>


  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_file-class_method" title="each_file (class method)">+ (Enumerator) <strong>each_file</strong>(directory) {|file| ... }</a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Enumerates over all files within a given directory found in any
of the installed Ronin libraries.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#gems-class_method" title="gems (class method)">+ (Hash{String =&gt; Gem::Specification}) <strong>gems</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Finds the installed Ronin libraries via RubyGems.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#libraries-class_method" title="libraries (class method)">+ (Array&lt;String&gt;) <strong>libraries</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The names of the additional Ronin libraries installed on the system.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#load_gemspecs%21-class_method" title="load_gemspecs! (class method)">+ (true) <strong>load_gemspecs!</strong> </a>
    

    
  </span>
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Loads the gemspecs for any installed Ronin libraries.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#paths-class_method" title="paths (class method)">+ (Hash{String =&gt; String}) <strong>paths</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The installation paths of installed Ronin libraries.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#require_all-class_method" title="require_all (class method)">+ (Boolean) <strong>require_all</strong>(directory) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Requires all files within the given directory.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="each_file-class_method">
  
    + (<tt>Enumerator</tt>) <strong>each_file</strong>(directory) {|file| ... }
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Enumerates over all files within a given directory found in any
of the installed Ronin libraries.</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>directory</span>
      
      
      
        &mdash;
        <div class='inline'><p>The directory path to search within.</p>
</div>
      
    </li>
  
</ul>
<h3>Yields:</h3>
<ul class="yield">
  
    <li>
      
        <span class='type'>(<tt>file</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>The given block will be passed each file found within the directory.</p>
</div>
      
    </li>
  
</ul>
<h3>Yield Parameters:</h3>
<ul class="yieldparam">
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>file</span>
      
      
      
        &mdash;
        <div class='inline'><p>The sub-path to the file found within the directory.</p>
</div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Enumerator</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>Returns an Enumerator if no block is given.</p>
</div>
      
    </li>
  
</ul>
<h3>Since:</h3>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/installation.rb', line 87</span>

<span class='kw'>def</span> <span class='const'>Installation</span><span class='period'>.</span><span class='id each_file'>each_file</span><span class='lparen'>(</span><span class='id directory'>directory</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id enum_for'>enum_for</span><span class='lparen'>(</span><span class='symbol'>:each_file</span><span class='comma'>,</span><span class='id directory'>directory</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id block_given?'>block_given?</span>

  <span class='id directory'>directory</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id join'>join</span><span class='lparen'>(</span><span class='id directory'>directory</span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span>

  <span class='comment'># query the installed gems
</span>  <span class='const'>Installation</span><span class='period'>.</span><span class='id gems'>gems</span><span class='period'>.</span><span class='id each_value'>each_value</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id gem'>gem</span><span class='op'>|</span>
    <span class='id gem'>gem</span><span class='period'>.</span><span class='id files'>files</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id file'>file</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id file'>file</span><span class='lbracket'>[</span><span class='int'>0</span><span class='op'>...</span><span class='id directory'>directory</span><span class='period'>.</span><span class='id length'>length</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='id directory'>directory</span>
        <span class='kw'>yield</span> <span class='id file'>file</span><span class='lbracket'>[</span><span class='id directory'>directory</span><span class='period'>.</span><span class='id length'>length</span><span class='op'>..</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="gems-class_method">
  
    + (<tt>Hash{String =&gt; Gem::Specification}</tt>) <strong>gems</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Finds the installed Ronin libraries via RubyGems.</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Hash{String =&gt; Gem::Specification}</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>The names and gem-specs of the installed Ronin libraries.</p>
</div>
      
    </li>
  
</ul>
<h3>Since:</h3>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


39
40
41
42</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/installation.rb', line 39</span>

<span class='kw'>def</span> <span class='const'>Installation</span><span class='period'>.</span><span class='id gems'>gems</span>
  <span class='const'>Installation</span><span class='period'>.</span><span class='id load_gemspecs!'>load_gemspecs!</span> <span class='kw'>if</span> <span class='ivar'>@gems</span><span class='period'>.</span><span class='id empty?'>empty?</span>
  <span class='kw'>return</span> <span class='ivar'>@gems</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="libraries-class_method">
  
    + (<tt>Array&lt;String&gt;</tt>) <strong>libraries</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>The names of the additional Ronin libraries installed on the system.</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Array&lt;String&gt;</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>The library names.</p>
</div>
      
    </li>
  
</ul>
<h3>Since:</h3>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


52
53
54</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/installation.rb', line 52</span>

<span class='kw'>def</span> <span class='const'>Installation</span><span class='period'>.</span><span class='id libraries'>libraries</span>
  <span class='const'>Installation</span><span class='period'>.</span><span class='id gems'>gems</span><span class='period'>.</span><span class='id keys'>keys</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="load_gemspecs!-class_method">
  
    + (<tt>true</tt>) <strong>load_gemspecs!</strong>  <span class="extras">(protected)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Loads the gemspecs for any installed Ronin libraries.</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>true</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>All Ronin libraries were successfully found.</p>
</div>
      
    </li>
  
</ul>
<h3>Since:</h3>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/installation.rb', line 136</span>

<span class='kw'>def</span> <span class='const'>Installation</span><span class='period'>.</span><span class='id load_gemspecs!'>load_gemspecs!</span>
  <span class='id ronin_gem'>ronin_gem</span> <span class='op'>=</span> <span class='const'>Gem</span><span class='period'>.</span><span class='id loaded_specs'>loaded_specs</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>ronin</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span>

  <span class='kw'>if</span> <span class='id ronin_gem'>ronin_gem</span>
    <span class='ivar'>@gems</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>ronin</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id ronin_gem'>ronin_gem</span>
    <span class='ivar'>@paths</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>ronin</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id ronin_gem'>ronin_gem</span><span class='period'>.</span><span class='id full_gem_path'>full_gem_path</span>

    <span class='id ronin_gem'>ronin_gem</span><span class='period'>.</span><span class='id dependent_gems'>dependent_gems</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id gems'>gems</span><span class='op'>|</span>
      <span class='id gem'>gem</span> <span class='op'>=</span> <span class='id gems'>gems</span><span class='period'>.</span><span class='id first'>first</span>

      <span class='ivar'>@gems</span><span class='lbracket'>[</span><span class='id gem'>gem</span><span class='period'>.</span><span class='id name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id gem'>gem</span>
      <span class='ivar'>@paths</span><span class='lbracket'>[</span><span class='id gem'>gem</span><span class='period'>.</span><span class='id name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id gem'>gem</span><span class='period'>.</span><span class='id full_gem_path'>full_gem_path</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='comment'># if we cannot find an installed ronin gem, search the $LOAD_PATH
</span>    <span class='comment'># for ronin gemspecs and load those
</span>    <span class='gvar'>$LOAD_PATH</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id lib_dir'>lib_dir</span><span class='op'>|</span>
      <span class='id root_dir'>root_dir</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id expand_path'>expand_path</span><span class='lparen'>(</span><span class='const'>File</span><span class='period'>.</span><span class='id join'>join</span><span class='lparen'>(</span><span class='id lib_dir'>lib_dir</span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>..</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='id gemspec_path'>gemspec_path</span> <span class='op'>=</span> <span class='const'>Dir</span><span class='lbracket'>[</span><span class='const'>File</span><span class='period'>.</span><span class='id join'>join</span><span class='lparen'>(</span><span class='id root_dir'>root_dir</span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>ronin*.gemspec</span><span class='tstring_end'>'</span></span><span class='rparen'>)</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id first'>first</span>

      <span class='kw'>if</span> <span class='id gemspec_path'>gemspec_path</span>
        <span class='id gem'>gem</span> <span class='op'>=</span> <span class='const'>Gem</span><span class='op'>::</span><span class='const'>SourceIndex</span><span class='period'>.</span><span class='id load_specification'>load_specification</span><span class='lparen'>(</span><span class='id gemspec_path'>gemspec_path</span><span class='rparen'>)</span>

        <span class='ivar'>@gems</span><span class='lbracket'>[</span><span class='id gem'>gem</span><span class='period'>.</span><span class='id name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id gem'>gem</span>
        <span class='ivar'>@paths</span><span class='lbracket'>[</span><span class='id gem'>gem</span><span class='period'>.</span><span class='id name'>name</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id root_dir'>root_dir</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="paths-class_method">
  
    + (<tt>Hash{String =&gt; String}</tt>) <strong>paths</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>The installation paths of installed Ronin libraries.</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Hash{String =&gt; String}</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>The paths to the installed Ronin libraries.</p>
</div>
      
    </li>
  
</ul>
<h3>Since:</h3>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


64
65
66
67</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/installation.rb', line 64</span>

<span class='kw'>def</span> <span class='const'>Installation</span><span class='period'>.</span><span class='id paths'>paths</span>
  <span class='const'>Installation</span><span class='period'>.</span><span class='id load_gemspecs!'>load_gemspecs!</span> <span class='kw'>if</span> <span class='ivar'>@paths</span><span class='period'>.</span><span class='id empty?'>empty?</span>
  <span class='kw'>return</span> <span class='ivar'>@paths</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="require_all-class_method">
  
    + (<tt>Boolean</tt>) <strong>require_all</strong>(directory) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Requires all files within the given directory.</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <span class='name'>directory</span>
      
      
      
        &mdash;
        <div class='inline'><p>A directory that resides within <code>lib/</code>.</p>
</div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>Specifies whether any files were successfully required.</p>
</div>
      
    </li>
  
</ul>
<h3>Since:</h3>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


115
116
117
118
119
120
121
122
123
124</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/installation.rb', line 115</span>

<span class='kw'>def</span> <span class='const'>Installation</span><span class='period'>.</span><span class='id require_all'>require_all</span><span class='lparen'>(</span><span class='id directory'>directory</span><span class='rparen'>)</span>
  <span class='id lib_dir'>lib_dir</span> <span class='op'>=</span> <span class='const'>File</span><span class='period'>.</span><span class='id join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>lib</span><span class='tstring_end'>'</span></span><span class='comma'>,</span><span class='id directory'>directory</span><span class='rparen'>)</span>
  <span class='id result'>result</span> <span class='op'>=</span> <span class='kw'>false</span>

  <span class='const'>Installation</span><span class='period'>.</span><span class='id each_file'>each_file</span><span class='lparen'>(</span><span class='id lib_dir'>lib_dir</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id name'>name</span><span class='op'>|</span>
    <span class='id result'>result</span> <span class='op'>|=</span> <span class='lparen'>(</span><span class='id require'>require</span> <span class='const'>File</span><span class='period'>.</span><span class='id join'>join</span><span class='lparen'>(</span><span class='id directory'>directory</span><span class='comma'>,</span><span class='id name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='id result'>result</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Sat Jan  8 15:54:45 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.6.4 (ruby-1.9.2).
</div>

  </body>
</html>