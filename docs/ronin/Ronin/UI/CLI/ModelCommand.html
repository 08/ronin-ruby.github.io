<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf8" />
<title>
  Class: Ronin::UI::CLI::ModelCommand
  
    &mdash; Ronin Documentation
  
</title>

  <link rel="stylesheet" href="../../../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../../..';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../../_index.html">Index (M)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../../../Ronin.html" title="Ronin (module)">Ronin</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../UI.html" title="Ronin::UI (module)">UI</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../CLI.html" title="Ronin::UI::CLI (module)">CLI</a></span></span>
     &raquo; 
    <span class="title">ModelCommand</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Ronin::UI::CLI::ModelCommand
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="Command.html" title="Ronin::UI::CLI::Command (class)">Command</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Thor::Group</li>
          
            <li class="next"><span class='object_link'><a href="Command.html" title="Ronin::UI::CLI::Command (class)">Command</a></span></li>
          
            <li class="next">Ronin::UI::CLI::ModelCommand</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/ronin/ui/cli/model_command.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>A base-command for querying <span class='object_link'><a href="../../Model.html" title="Ronin::Model (module)">Model</a></span>s.</p>


  </div>
</div>
<div class="tags">
  
</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="Commands/Repos.html" title="Ronin::UI::CLI::Commands::Repos (class)">Commands::Repos</a></span>, <span class='object_link'><a href="ResourcesCommand.html" title="Ronin::UI::CLI::ResourcesCommand (class)">ResourcesCommand</a></span>, <span class='object_link'><a href="ScriptCommand.html" title="Ronin::UI::CLI::ScriptCommand (class)">ScriptCommand</a></span></p>
</div>


  
  
  
  
  
  
  
  
  
  


  
  
  
  
  
  
  
  

  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each_query_option-class_method" title="each_query_option (class method)">+ (Enumerator) <strong>each_query_option</strong> {|name| ... }</a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Iterates over the query options for the command.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#model-class_method" title="model (class method)">+ (DataMapper::Resource) <strong>model</strong>(model) </a>
    

    
  </span>
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sets the model to query.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#query_model-class_method" title="query_model (class method)">+ (DataMapper::Resource) <strong>query_model</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The model to query.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#query_option-class_method" title="query_option (class method)">+ (Object) <strong>query_option</strong>(name, options = {}) </a>
    

    
  </span>
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Defines a query option for the command.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#query_options-class_method" title="query_options (class method)">+ (Array&lt;Symbol&gt;) <strong>query_options</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The query options for the command.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#query-instance_method" title="#query (instance method)">- (DataMapper::Collection) <strong>query</strong> </a>
    

    
  </span>
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Builds a new query using the options of the command.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#setup-instance_method" title="#setup (instance method)">- (Object) <strong>setup</strong> </a>
    

    
  </span>
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sets up the <span class='object_link'><a href="../../Database.html" title="Ronin::Database (module)">Database</a></span>.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="Command.html" title="Ronin::UI::CLI::Command (class)">Command</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Command.html#banner-class_method" title="Ronin::UI::CLI::Command.banner (method)">banner</a></span>, <span class='object_link'><a href="Command.html#command_name-class_method" title="Ronin::UI::CLI::Command.command_name (method)">command_name</a></span>, <span class='object_link'><a href="Command.html#execute-instance_method" title="Ronin::UI::CLI::Command#execute (method)">#execute</a></span>, <span class='object_link'><a href="Command.html#indent-instance_method" title="Ronin::UI::CLI::Command#indent (method)">#indent</a></span>, <span class='object_link'><a href="Command.html#inherited-class_method" title="Ronin::UI::CLI::Command.inherited (method)">inherited</a></span>, <span class='object_link'><a href="Command.html#initialize-instance_method" title="Ronin::UI::CLI::Command#initialize (method)">#initialize</a></span>, <span class='object_link'><a href="Command.html#print_array-instance_method" title="Ronin::UI::CLI::Command#print_array (method)">#print_array</a></span>, <span class='object_link'><a href="Command.html#print_exception-instance_method" title="Ronin::UI::CLI::Command#print_exception (method)">#print_exception</a></span>, <span class='object_link'><a href="Command.html#print_hash-instance_method" title="Ronin::UI::CLI::Command#print_hash (method)">#print_hash</a></span>, <span class='object_link'><a href="Command.html#print_section-instance_method" title="Ronin::UI::CLI::Command#print_section (method)">#print_section</a></span>, <span class='object_link'><a href="Command.html#print_title-instance_method" title="Ronin::UI::CLI::Command#print_title (method)">#print_title</a></span>, <span class='object_link'><a href="Command.html#puts-instance_method" title="Ronin::UI::CLI::Command#puts (method)">#puts</a></span>, <span class='object_link'><a href="Command.html#run-class_method" title="Ronin::UI::CLI::Command.run (method)">run</a></span></p>

  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../Output/Helpers.html" title="Ronin::UI::Output::Helpers (module)">Output::Helpers</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Output/Helpers.html#format_message-instance_method" title="Ronin::UI::Output::Helpers#format_message (method)">#format_message</a></span>, <span class='object_link'><a href="../Output/Helpers.html#print_debug-instance_method" title="Ronin::UI::Output::Helpers#print_debug (method)">#print_debug</a></span>, <span class='object_link'><a href="../Output/Helpers.html#print_error-instance_method" title="Ronin::UI::Output::Helpers#print_error (method)">#print_error</a></span>, <span class='object_link'><a href="../Output/Helpers.html#print_info-instance_method" title="Ronin::UI::Output::Helpers#print_info (method)">#print_info</a></span>, <span class='object_link'><a href="../Output/Helpers.html#print_warning-instance_method" title="Ronin::UI::Output::Helpers#print_warning (method)">#print_warning</a></span>, <span class='object_link'><a href="../Output/Helpers.html#printf-instance_method" title="Ronin::UI::Output::Helpers#printf (method)">#printf</a></span>, <span class='object_link'><a href="../Output/Helpers.html#putc-instance_method" title="Ronin::UI::Output::Helpers#putc (method)">#putc</a></span>, <span class='object_link'><a href="../Output/Helpers.html#puts-instance_method" title="Ronin::UI::Output::Helpers#puts (method)">#puts</a></span>, <span class='object_link'><a href="../Output/Helpers.html#write-instance_method" title="Ronin::UI::Output::Helpers#write (method)">#write</a></span></p>

  
  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <p class="notice">This class inherits a constructor from <span class='object_link'><a href="Command.html#initialize-instance_method" title="Ronin::UI::CLI::Command#initialize (method)">Ronin::UI::CLI::Command</a></span></p>
  
</div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="each_query_option-class_method">
  
    + (<tt>Enumerator</tt>) <strong>each_query_option</strong> {|name| ... }
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Iterates over the query options for the command.</p>


  </div>
</div>
<div class="tags">
  <h3>Yields:</h3>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>name</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The given block will be passed the names of the query options.</p>
</div>
      
    </li>
  
</ul>
<h3>Yield Parameters:</h3>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The name of a query option.</p>
</div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Enumerator</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>If no block is given, an Enumerator object will be returned.</p>
</div>
      
    </li>
  
</ul>
<h3>Since:</h3>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>1.1.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


78
79
80
81
82
83
84
85
86</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/ui/cli/model_command.rb', line 78</span>

<span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='each_query_option identifier id'>each_query_option</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='return return kw'>return</span> <span class='enum_for identifier id'>enum_for</span><span class='lparen token'>(</span><span class='symbol val'>:each_query_option</span><span class='rparen token'>)</span> <span class='unless unless_mod kw'>unless</span> <span class='block identifier id'>block</span>

  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='ancestors identifier id'>ancestors</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='ancestor identifier id'>ancestor</span><span class='bitor op'>|</span>
    <span class='if if kw'>if</span> <span class='ancestor identifier id'>ancestor</span> <span class='lt op'>&lt;</span> <span class='ModelCommand constant id'>ModelCommand</span>
      <span class='ancestor identifier id'>ancestor</span><span class='dot token'>.</span><span class='query_options identifier id'>query_options</span><span class='dot token'>.</span><span class='each identifier id'>each</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='block identifier id'>block</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="model-class_method">
  
    + (<tt>DataMapper::Resource</tt>) <strong>model</strong>(model)  <span class="extras">(protected)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Sets the model to query.</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>model</span>
      
      
        <span class='type'>(<tt>DataMapper::Resource</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The model class.</p>
</div>
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>DataMapper::Resource</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The model that will be queried.</p>
</div>
      
    </li>
  
</ul>
<h3>Since:</h3>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>1.1.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


103
104
105</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/ui/cli/model_command.rb', line 103</span>

<span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='model identifier id'>model</span><span class='lparen token'>(</span><span class='model identifier id'>model</span><span class='rparen token'>)</span>
  <span class='@query_model ivar id'>@query_model</span> <span class='assign token'>=</span> <span class='model identifier id'>model</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="query_model-class_method">
  
    + (<tt>DataMapper::Resource</tt>) <strong>query_model</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>The model to query.</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>DataMapper::Resource</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The model that will be queried.</p>
</div>
      
    </li>
  
</ul>
<h3>Since:</h3>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>1.1.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


44
45
46
47
48</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/ui/cli/model_command.rb', line 44</span>

<span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='query_model identifier id'>query_model</span>
  <span class='@query_model ivar id'>@query_model</span> <span class='opasgn op'>||=</span> <span class='if if kw'>if</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='superclass identifier id'>superclass</span> <span class='lt op'>&lt;</span> <span class='ModelCommand constant id'>ModelCommand</span>
               <span class='self self kw'>self</span><span class='dot token'>.</span><span class='superclass identifier id'>superclass</span><span class='dot token'>.</span><span class='query_model identifier id'>query_model</span>
             <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="query_option-class_method">
  
    + (<tt>Object</tt>) <strong>query_option</strong>(name, options = {})  <span class="extras">(protected)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Defines a query option for the command.</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The option name.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Additional options.</p>
</div>
      
    </li>
  
</ul>
<h3>Since:</h3>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


120
121
122
123</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/ui/cli/model_command.rb', line 120</span>

<span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='query_option identifier id'>query_option</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span><span class='options identifier id'>options</span><span class='assign token'>=</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='query_options identifier id'>query_options</span> <span class='lshft op'>&lt;&lt;</span> <span class='name identifier id'>name</span>
  <span class='class_option identifier id'>class_option</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span><span class='options identifier id'>options</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="query_options-class_method">
  
    + (<tt>Array&lt;Symbol&gt;</tt>) <strong>query_options</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>The query options for the command.</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;Symbol&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The query options and their query method names.</p>
</div>
      
    </li>
  
</ul>
<h3>Since:</h3>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


60
61
62</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/ui/cli/model_command.rb', line 60</span>

<span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='query_options identifier id'>query_options</span>
  <span class='@query_options ivar id'>@query_options</span> <span class='opasgn op'>||=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="query-instance_method">
  
    - (<tt>DataMapper::Collection</tt>) <strong>query</strong>  <span class="extras">(protected)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Builds a new query using the options of the command.</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>DataMapper::Collection</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The new query.</p>
</div>
      
    </li>
  
</ul>
<h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>RuntimeError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The query option does not map to a query-method or property
defined in the Model.</p>
</div>
      
    </li>
  
</ul>
<h3>Since:</h3>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/ui/cli/model_command.rb', line 156</span>

<span class='def def kw'>def</span> <span class='query identifier id'>query</span>
  <span class='unless unless kw'>unless</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='query_model identifier id'>query_model</span>
    <span class='raise identifier id'>raise</span><span class='lparen token'>(</span><span class='dstring node'>&quot;query model not defined for #{self.class}&quot;</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='query identifier id'>query</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='query_model identifier id'>query_model</span><span class='dot token'>.</span><span class='all identifier id'>all</span>

  <span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='each_query_option identifier id'>each_query_option</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='name identifier id'>name</span><span class='bitor op'>|</span>
    <span class='value identifier id'>value</span> <span class='assign token'>=</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='rbrack token'>]</span>

    <span class='comment val'># skip unset options</span>
    <span class='next next kw'>next</span> <span class='if if_mod kw'>if</span> <span class='value identifier id'>value</span><span class='dot token'>.</span><span class='nil? fid id'>nil?</span>

    <span class='if if kw'>if</span> <span class='query_model identifier id'>query_model</span><span class='dot token'>.</span><span class='properties identifier id'>properties</span><span class='dot token'>.</span><span class='named? fid id'>named?</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
      <span class='query identifier id'>query</span> <span class='assign token'>=</span> <span class='query identifier id'>query</span><span class='dot token'>.</span><span class='all identifier id'>all</span><span class='lparen token'>(</span><span class='name identifier id'>name</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='value identifier id'>value</span><span class='rparen token'>)</span>
    <span class='elsif elsif kw'>elsif</span> <span class='query_model identifier id'>query_model</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
      <span class='query_method identifier id'>query_method</span> <span class='assign token'>=</span> <span class='query_model identifier id'>query_model</span><span class='dot token'>.</span><span class='method identifier id'>method</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>

      <span class='query identifier id'>query</span> <span class='assign token'>=</span> <span class='case case kw'>case</span> <span class='query_method identifier id'>query_method</span><span class='dot token'>.</span><span class='arity identifier id'>arity</span>
              <span class='when when kw'>when</span> <span class='integer val'>0</span>
                <span class='query identifier id'>query</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='rparen token'>)</span>
              <span class='when when kw'>when</span> <span class='integer val'>1</span>
                <span class='query identifier id'>query</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span><span class='value identifier id'>value</span><span class='rparen token'>)</span>
              <span class='else else kw'>else</span>
                <span class='query identifier id'>query</span><span class='dot token'>.</span><span class='send identifier id'>send</span><span class='lparen token'>(</span><span class='name identifier id'>name</span><span class='comma token'>,</span><span class='mult op'>*</span><span class='value identifier id'>value</span><span class='rparen token'>)</span>
              <span class='end end kw'>end</span>
    <span class='else else kw'>else</span>
      <span class='raise identifier id'>raise</span><span class='lparen token'>(</span><span class='dstring node'>&quot;unknown query method or property #{name} for #{query_model}&quot;</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='return return kw'>return</span> <span class='query identifier id'>query</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="setup-instance_method">
  
    - (<tt>Object</tt>) <strong>setup</strong>  <span class="extras">(protected)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Sets up the <span class='object_link'><a href="../../Database.html" title="Ronin::Database (module)">Database</a></span>.</p>


  </div>
</div>
<div class="tags">
  <h3>Since:</h3>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>1.1.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


132
133
134
135
136
137
138
139
140</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/ui/cli/model_command.rb', line 132</span>

<span class='def def kw'>def</span> <span class='setup identifier id'>setup</span>
  <span class='super super kw'>super</span>

  <span class='if if kw'>if</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:database</span><span class='rbrack token'>]</span>
    <span class='Database constant id'>Database</span><span class='dot token'>.</span><span class='repositories identifier id'>repositories</span><span class='lbrack token'>[</span><span class='symbol val'>:default</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:database</span><span class='rbrack token'>]</span>
  <span class='end end kw'>end</span>

  <span class='Database constant id'>Database</span><span class='dot token'>.</span><span class='setup identifier id'>setup</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Tue Jul 12 15:43:36 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.0 (ruby-1.8.7).
</div>

  </body>
</html>