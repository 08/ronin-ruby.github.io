<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf8" />
<title>
  Class: Ronin::Network::SMTP::Email
  
    &mdash; Ronin Support Documentation
  
</title>

  <link rel="stylesheet" href="../../../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '../../..';
  if (relpath != '') relpath += '/';
</script>

  <script type="text/javascript" charset="utf-8" src="../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../js/app.js"></script>


  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../../../_index.html">Index (E)</a> &raquo; 
    <span class='title'><span class='object_link'><a href="../../../Ronin.html" title="Ronin (module)">Ronin</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../Network.html" title="Ronin::Network (module)">Network</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../SMTP.html" title="Ronin::Network::SMTP (module)">SMTP</a></span></span>
     &raquo; 
    <span class="title">Email</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a id="class_list_link" href="#">Class List</a>
  
    <a id="method_list_link" href="#">Method List</a>
  
    <a id="file_list_link" href="#">File List</a>
  
</div>
      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Ronin::Network::SMTP::Email
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span></li>
          
            <li class="next">Ronin::Network::SMTP::Email</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/ronin/network/smtp/email.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>Represents an Email to be sent over <span class='object_link'><a href="../SMTP.html" title="Ronin::Network::SMTP (module)">Ronin::Network::SMTP</a></span>.</p>


  </div>
</div>
<div class="tags">
  
</div>
  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="CRLF-constant" class="">CRLF =
          
        </dt>
        <dd><pre class="code"><span class='string val'>&quot;\n\r&quot;</span>
</pre></dd>
      
    </dl>
  


  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#body-instance_method" title="#body (instance method)">- (Object) <strong>body</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Body of the email.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#date-instance_method" title="#date (instance method)">- (Object) <strong>date</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Date of the email.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#from-instance_method" title="#from (instance method)">- (Object) <strong>from</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sender of the email.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#headers-instance_method" title="#headers (instance method)">- (Object) <strong>headers</strong> </a>
    

    
  </span>
  
  
    <span class="note title readonly">readonly</span>
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Additional headers.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#message_id-instance_method" title="#message_id (instance method)">- (Object) <strong>message_id</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Unique message-id string.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#subject-instance_method" title="#subject (instance method)">- (Object) <strong>subject</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Subject of the email.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#to-instance_method" title="#to (instance method)">- (Object) <strong>to</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Recipient of the email.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (Email) <strong>initialize</strong>(options = {}) {|email| ... }</a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a new Email object.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_s-instance_method" title="#to_s (instance method)">- (String) <strong>to_s</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Formats the email into a SMTP message.</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Ronin::Network::SMTP::Email (class)">Email</a></span></tt>) <strong>initialize</strong>(options = {}) {|email| ... }
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Creates a new Email object.</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='name'>options</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Additional options.</p>
</div>
      
    </li>
  
</ul>

  
    
    
    <h3>Options Hash (<tt>options</tt>):</h3>
    <ul class="option">
      
        <li>
          <span class="name">:from</span>
          <span class="type">(<tt><span class='object_link'><a href="../../../String.html" title="String (class)">String</a></span></tt>)</span>
          <span class="default">
            
          </span>
          &mdash; <div class='inline'><p>The address the email is from.</p>
</div>
        </tr>
      
        <li>
          <span class="name">:to</span>
          <span class="type">(<tt><span class='object_link'><a href="../../../Array.html" title="Array (class)">Array</a></span></tt>, <tt><span class='object_link'><a href="../../../String.html" title="String (class)">String</a></span></tt>)</span>
          <span class="default">
            
          </span>
          &mdash; <div class='inline'><p>The address that the email should be sent to.</p>
</div>
        </tr>
      
        <li>
          <span class="name">:subject</span>
          <span class="type">(<tt><span class='object_link'><a href="../../../String.html" title="String (class)">String</a></span></tt>)</span>
          <span class="default">
            
          </span>
          &mdash; <div class='inline'><p>The subject of the email.</p>
</div>
        </tr>
      
        <li>
          <span class="name">:message_id</span>
          <span class="type">(<tt><span class='object_link'><a href="../../../String.html" title="String (class)">String</a></span></tt>)</span>
          <span class="default">
            
          </span>
          &mdash; <div class='inline'><p>Message-ID of the email.</p>
</div>
        </tr>
      
        <li>
          <span class="name">:date</span>
          <span class="type">(<tt><span class='object_link'><a href="../../../String.html" title="String (class)">String</a></span></tt>, <tt>Time</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>Time.now</tt>
            
          </span>
          &mdash; <div class='inline'><p>The date the email was sent on.</p>
</div>
        </tr>
      
        <li>
          <span class="name">:headers</span>
          <span class="type">(<tt>Hash&lt;<span class='object_link'><a href="../../../String.html" title="String (class)">String</a></span> =&gt; <span class='object_link'><a href="../../../String.html" title="String (class)">String</a></span>}</tt>)</span>
          <span class="default">
            
          </span>
          &mdash; <div class='inline'><p>Additional headers.</p>
</div>
        </tr>
      
        <li>
          <span class="name">:body</span>
          <span class="type">(<tt><span class='object_link'><a href="../../../String.html" title="String (class)">String</a></span></tt>, <tt><span class='object_link'><a href="../../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../../String.html" title="String (class)">String</a></span>&gt;</tt>)</span>
          <span class="default">
            
          </span>
          &mdash; <div class='inline'><p>The body of the email.</p>
</div>
        </tr>
      
    </ul>
  
<h3>Yields:</h3>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>email</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>If a block is given, it will be passed the newly created email
object.</p>
</div>
      
    </li>
  
</ul>
<h3>Yield Parameters:</h3>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>email</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Ronin::Network::SMTP::Email (class)">Email</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The newly created email object.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/network/smtp/email.rb', line 87</span>

<span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='assign token'>=</span><span class='lbrace token'>{</span><span class='rbrace token'>}</span><span class='rparen token'>)</span>
  <span class='@from ivar id'>@from</span> <span class='assign token'>=</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:from</span><span class='rbrack token'>]</span>
  <span class='@to ivar id'>@to</span> <span class='assign token'>=</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:to</span><span class='rbrack token'>]</span>
  <span class='@subject ivar id'>@subject</span> <span class='assign token'>=</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:subject</span><span class='rbrack token'>]</span>
  <span class='@date ivar id'>@date</span> <span class='assign token'>=</span> <span class='options identifier id'>options</span><span class='dot token'>.</span><span class='fetch identifier id'>fetch</span><span class='lparen token'>(</span><span class='symbol val'>:date</span><span class='comma token'>,</span><span class='Time constant id'>Time</span><span class='dot token'>.</span><span class='now identifier id'>now</span><span class='rparen token'>)</span>
  <span class='@message_id ivar id'>@message_id</span> <span class='assign token'>=</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:message_id</span><span class='rbrack token'>]</span>
  <span class='@headers ivar id'>@headers</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span><span class='rbrace token'>}</span>

  <span class='if if kw'>if</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:headers</span><span class='rbrack token'>]</span>
    <span class='@headers ivar id'>@headers</span><span class='dot token'>.</span><span class='merge! fid id'>merge!</span><span class='lparen token'>(</span><span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:headers</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='@body ivar id'>@body</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>

  <span class='if if kw'>if</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:body</span><span class='rbrack token'>]</span>
    <span class='case case kw'>case</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:body</span><span class='rbrack token'>]</span>
    <span class='when when kw'>when</span> <span class='Array constant id'>Array</span>
      <span class='@body ivar id'>@body</span> <span class='opasgn op'>+=</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:body</span><span class='rbrack token'>]</span>
    <span class='else else kw'>else</span>
      <span class='@body ivar id'>@body</span> <span class='lshft op'>&lt;&lt;</span> <span class='options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:body</span><span class='rbrack token'>]</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='yield yield kw'>yield</span> <span class='self self kw'>self</span> <span class='if if_mod kw'>if</span> <span class='block_given? fid id'>block_given?</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="body=-instance_method"></span>
      <span id="body-instance_method"></span>
      <div class="method_details first">
  <p class="signature first" id="body-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>body</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Body of the email</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


49
50
51</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/network/smtp/email.rb', line 49</span>

<span class='def def kw'>def</span> <span class='body identifier id'>body</span>
  <span class='@body ivar id'>@body</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="date=-instance_method"></span>
      <span id="date-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="date-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>date</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Date of the email</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


40
41
42</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/network/smtp/email.rb', line 40</span>

<span class='def def kw'>def</span> <span class='date identifier id'>date</span>
  <span class='@date ivar id'>@date</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="from=-instance_method"></span>
      <span id="from-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="from-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>from</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Sender of the email</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


31
32
33</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/network/smtp/email.rb', line 31</span>

<span class='def def kw'>def</span> <span class='from identifier id'>from</span>
  <span class='@from ivar id'>@from</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <span id="headers-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="headers-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>headers</strong>  <span class="extras">(readonly)</span>
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Additional headers</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


46
47
48</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/network/smtp/email.rb', line 46</span>

<span class='def def kw'>def</span> <span class='headers identifier id'>headers</span>
  <span class='@headers ivar id'>@headers</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="message_id=-instance_method"></span>
      <span id="message_id-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="message_id-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>message_id</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Unique message-id string</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


43
44
45</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/network/smtp/email.rb', line 43</span>

<span class='def def kw'>def</span> <span class='message_id identifier id'>message_id</span>
  <span class='@message_id ivar id'>@message_id</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="subject=-instance_method"></span>
      <span id="subject-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="subject-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>subject</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Subject of the email</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


37
38
39</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/network/smtp/email.rb', line 37</span>

<span class='def def kw'>def</span> <span class='subject identifier id'>subject</span>
  <span class='@subject ivar id'>@subject</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="to=-instance_method"></span>
      <span id="to-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="to-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../Object.html" title="Object (class)">Object</a></span></tt>) <strong>to</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Recipient of the email</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


34
35
36</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/network/smtp/email.rb', line 34</span>

<span class='def def kw'>def</span> <span class='to identifier id'>to</span>
  <span class='@to ivar id'>@to</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="to_s-instance_method">
  
    - (<tt><span class='object_link'><a href="../../../String.html" title="String (class)">String</a></span></tt>) <strong>to_s</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>Formats the email into a SMTP message.</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Properly formatted SMTP message.</p>
</div>
      
    </li>
  
</ul>

  <h3>See Also:</h3>
  <ul class="see">
    
      <li><a href="http://www.ruby-doc.org/stdlib/libdoc/net/smtp/rdoc/classes/Net/SMTP.html" target="_parent" title="http://www.ruby-doc.org/stdlib/libdoc/net/smtp/rdoc/classes/Net/SMTP.html">http://www.ruby-doc.org/stdlib/libdoc/net/smtp/rdoc/classes/Net/SMTP.html</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/network/smtp/email.rb', line 123</span>

<span class='def def kw'>def</span> <span class='to_s identifier id'>to_s</span>
  <span class='address identifier id'>address</span> <span class='assign token'>=</span> <span class='lambda identifier id'>lambda</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='info identifier id'>info</span><span class='bitor op'>|</span>
    <span class='case case kw'>case</span> <span class='info identifier id'>info</span>
    <span class='when when kw'>when</span> <span class='Array constant id'>Array</span>
      <span class='dstring node'>&quot;#{info[0]} &lt;#{info[1]}&gt;&quot;</span>
    <span class='else else kw'>else</span>
      <span class='info identifier id'>info</span>
    <span class='end end kw'>end</span>
  <span class='rbrace token'>}</span>

  <span class='message identifier id'>message</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rbrack token'>]</span>

  <span class='if if kw'>if</span> <span class='@from ivar id'>@from</span>
    <span class='message identifier id'>message</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot;From: #{@from}&quot;</span>
  <span class='end end kw'>end</span>

  <span class='if if kw'>if</span> <span class='@to ivar id'>@to</span>
    <span class='message identifier id'>message</span> <span class='lshft op'>&lt;&lt;</span> <span class='case case kw'>case</span> <span class='@to ivar id'>@to</span>
               <span class='when when kw'>when</span> <span class='Array constant id'>Array</span>
                 <span class='dstring node'>&quot;To: #{@to.join(', ')}&quot;</span>
               <span class='else else kw'>else</span>
                 <span class='dstring node'>&quot;To: #{@to}&quot;</span>
               <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>

  <span class='if if kw'>if</span> <span class='@subject ivar id'>@subject</span>
    <span class='message identifier id'>message</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot;Subject: #{@subject}&quot;</span>
  <span class='end end kw'>end</span>

  <span class='if if kw'>if</span> <span class='@date ivar id'>@date</span>
    <span class='message identifier id'>message</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot;Date: #{@date}&quot;</span>
  <span class='end end kw'>end</span>

  <span class='if if kw'>if</span> <span class='@message_id ivar id'>@message_id</span>
    <span class='message identifier id'>message</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot;Message-Id: &lt;#{@message_id}&gt;&quot;</span>
  <span class='end end kw'>end</span>

  <span class='@headers ivar id'>@headers</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='name identifier id'>name</span><span class='comma token'>,</span><span class='value identifier id'>value</span><span class='bitor op'>|</span>
    <span class='message identifier id'>message</span> <span class='lshft op'>&lt;&lt;</span> <span class='dstring node'>&quot;#{name}: #{value}&quot;</span>
  <span class='end end kw'>end</span>

  <span class='message identifier id'>message</span> <span class='lshft op'>&lt;&lt;</span> <span class='string val'>''</span>
  <span class='message identifier id'>message</span> <span class='opasgn op'>+=</span> <span class='@body ivar id'>@body</span>

  <span class='return return kw'>return</span> <span class='message identifier id'>message</span><span class='dot token'>.</span><span class='join identifier id'>join</span><span class='lparen token'>(</span><span class='CRLF constant id'>CRLF</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Tue Jul 12 15:39:41 2011 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.7.0 (ruby-1.8.7).
</div>

  </body>
</html>